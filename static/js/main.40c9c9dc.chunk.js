(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__3psTL",dialogsItem:"Dialogs_dialogsItem__1J_bq",active:"Dialogs_active__1nRMj",messages:"Dialogs_messages__G7lBl"}},20:function(e,t,a){e.exports={header:"Header_header__3agPC"}},23:function(e,t,a){e.exports={item:"Posts_item__2kBCa",posts:"Posts_posts__29I5L"}},24:function(e,t,a){e.exports={postsBlock:"Myposts_postsBlock__1MY7D",buttonSave:"Myposts_buttonSave__2W4xl"}},27:function(e,t,a){e.exports={userPhoto:"Users_userPhoto__F-xz9",selectedPage:"Users_selectedPage__wIp0u"}},38:function(e,t,a){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__1pszp"}},42:function(e,t,a){e.exports=a.p+"static/media/images.7b938c6b.png"},43:function(e,t,a){e.exports=a.p+"static/media/load.a1cd24dd.gif"},46:function(e,t,a){e.exports=a(76)},5:function(e,t,a){e.exports={nav:"Navbar_nav__1hzsM",item:"Navbar_item__eAPnU",activeLink:"Navbar_activeLink__2ZU1O"}},51:function(e,t,a){},52:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(16),c=a.n(r),o=a(9),l=(a(51),a(52),a(20)),i=a.n(l),u=function(){return s.a.createElement("header",{className:i.a.header},s.a.createElement("img",{className:i.a.pic,src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQ17IautckWSx6-VDw0UI7NAMIDsEqkOZ3i5g&usqp=CAU"}))},m=a(5),g=a.n(m),p=function(){return s.a.createElement("nav",{className:g.a.nav},s.a.createElement("div",{className:g.a.item},s.a.createElement(o.b,{to:"/profile",activeClassName:g.a.activeLink},"Profile")),s.a.createElement("div",{className:g.a.item},s.a.createElement(o.b,{to:"/messages",activeClassName:g.a.activeLink},"Messages")),s.a.createElement("div",{className:g.a.item},s.a.createElement(o.b,{to:"/users",activeClassName:g.a.activeLink},"Users")),s.a.createElement("div",{className:g.a.item},s.a.createElement(o.b,{to:"/news",activeClassName:g.a.activeLink},"News")),s.a.createElement("div",{className:g.a.item},s.a.createElement(o.b,{to:"/music",activeClassName:g.a.activeLink},"Music")),s.a.createElement("div",{className:g.a.item},s.a.createElement(o.b,{to:"/setting",activeClassName:g.a.activeLink},"Setting")))},d=a(38),E=a.n(d),f=function(){return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("img",{src:"http://proklumbu.com/wp-content/uploads/2017/06/tomswallpapers.com-9250.jpg"})),s.a.createElement("div",null,s.a.createElement("img",{src:"http://185504.selcdn.ru/static/mv-flowers.reshop.by/catalog/404/16942458315ec39932dd4b7_medium.jpg"})),s.a.createElement("div",{className:E.a.descriptionBlock}," ava + description"))},v=a(18),_=a(2),h={posts:[{id:1,likeCount:215,message:"Hi!!!"},{id:2,likeCount:10,message:"Hello!!"},{id:3,likeCount:15,message:"How are you&"},{id:4,likeCount:43,message:"Good afternoon!!!"}],newPostText:"it-kamasutra.com"},b=a(23),P=a.n(b),O=function(e){return s.a.createElement("div",{className:P.a.posts},s.a.createElement("div",{className:P.a.item},s.a.createElement("img",{src:"https://cdn21.img.ria.ru/images/152706/30/1527063075_0:0:1920:1080_600x0_80_0_0_1619231de06a6127896bcf26500c320d.jpg",alt:"ava"}),e.message,s.a.createElement("div",null,s.a.createElement("span",null,"Like "),e.likeCount)))},N=a(24),w=a.n(N),C=function(e){var t=e.posts.map((function(e){return s.a.createElement(O,{message:e.message,likeCount:e.likeCount,key:e.id})})),a=s.a.createRef();console.log(a);return s.a.createElement("div",{className:w.a.postsBlock},s.a.createElement("div",null,s.a.createElement("h3",null,"My Post"),s.a.createElement("div",null,s.a.createElement("textarea",{onChange:function(){if(a.current){var t=a.current.value;e.updateNewPostText(t),console.log(t)}},ref:a,value:e.newPostText}," ")),s.a.createElement("div",null,s.a.createElement("button",{className:w.a.buttonSave,onClick:function(){e.addPost()}},"Add post"))),t)},T=a(12),S=Object(T.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(){e({type:"ADD_POST"})},updateNewPostText:function(t){e({type:"UPDATE_NEW_POST_TEXT",newText:t})}}}))(C),k=function(){return s.a.createElement("div",null,s.a.createElement(f,null),s.a.createElement(S,null))},y=a(3),j={dialogs:[{id:1,name:"Natallia"},{id:2,name:"Andrey"},{id:3,name:"Ksenya"},{id:4,name:"Danila"}],messages:[{id:1,message:"Hi!!!"},{id:2,message:"How are you?"},{id:3,message:"Yo-Yo-Yo!!!"},{id:4,message:"Yo-Yo-Yo!!!"}],newMessageBody:""},U=a(11),x=a.n(U),F=function(e){return s.a.createElement("div",{className:x.a.message},e.message)},M=function(e){return s.a.createElement("div",{className:x.a.dialog+" "+x.a.active},s.a.createElement(o.b,{to:"/dialogs/1"+e.id},e.name))},I=function(e){var t=e.dialogsPage.dialogs.map((function(e){return s.a.createElement(M,{name:e.name,id:e.id,key:e.id})})),a=e.dialogsPage.messages.map((function(e){return s.a.createElement(F,{message:e.message,id:e.id,key:e.id})})),n=s.a.createRef();return s.a.createElement("div",{className:x.a.dialogs},s.a.createElement("div",{className:x.a.dialogsItem},t),s.a.createElement("div",{className:x.a.message},s.a.createElement("div",null,a),s.a.createElement("div",null,s.a.createElement("textarea",{onChange:function(t){if(n.current){var a=n.current.value;e.updateNewMessageBody(a)}},ref:n,value:e.dialogsPage.newMessageBody,placeholder:"Enter your message"}," ")),s.a.createElement("div",null,s.a.createElement("button",{onClick:function(){e.sendMessage()}},"Send"))))},L=Object(T.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{sendMessage:function(){e({type:"SEND_MESSAGE"})},updateNewMessageBody:function(t){e({type:"UPDATE_NEW_MESSAGE_BODY_TEXT",newMessage:t})}}}))(I),A=a(40),D=a(41),B=a(45),G=a(44),z={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1},R=a(26),W=a.n(R),Y=a(27),H=a.n(Y),q=a(42),X=a.n(q),J=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),a=[],n=1;n<=t;n++)a.push(n);return s.a.createElement("div",null,s.a.createElement("div",null,a.map((function(t){return s.a.createElement("span",{onClick:function(){e.onPageChanged(t)},className:t===e.currentPage?H.a.selectedPage:""},t)}))),e.users.map((function(t){return s.a.createElement("div",{key:t.id},s.a.createElement("span",null,s.a.createElement("div",null,s.a.createElement("img",{src:null!=t.photos.small?t.photos.small:X.a,className:H.a.userPhoto})),s.a.createElement("div",null,t.followed?s.a.createElement("button",{onClick:function(){e.unFollow(t.id)}},"UnFollow"):s.a.createElement("button",{onClick:function(){e.follow(t.id)}},"Follow"))),s.a.createElement("span",null,s.a.createElement("span",null,s.a.createElement("div",null,t.name),s.a.createElement("div",null,t.status)),s.a.createElement("span",null,s.a.createElement("div",null,"city"),s.a.createElement("div",null,"u.location.country"))))})))},Z=a(43),K=a.n(Z),Q=function(e){Object(B.a)(a,e);var t=Object(G.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).onPageChanged=function(t){e.props.setCurrentPage(t),e.props.toggleIsFetching(!0),W.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(t,"&count=").concat(e.props.pageSize)).then((function(t){e.props.toggleIsFetching(!1),e.props.setUsers(t.data.items)}))},e}return Object(D.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.toggleIsFetching(!0),W.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(this.props.currentPage,"&count=").concat(this.props.pageSize)).then((function(t){e.props.toggleIsFetching(!1),e.props.setUsers(t.data.items),e.props.setTotalUsersCount(t.data.totalCount)}))}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.props.isFetching?s.a.createElement("img",{src:K.a}):null,s.a.createElement(J,{users:this.props.users,pageSize:this.props.pageSize,totalUsersCount:this.props.totalUsersCount,currentPage:this.props.currentPage,follow:this.props.follow,unFollow:this.props.unFollow,onPageChanged:this.onPageChanged}))}}]),a}(s.a.Component),V=Object(T.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching}}),(function(e){return{follow:function(t){e(function(e){return{type:"FOLLOW",userId:e}}(t))},unFollow:function(t){e(function(e){return{type:"UNFOLLOW",userId:e}}(t))},setUsers:function(t){e(function(e){return{type:"SET_USERS",users:e}}(t))},setCurrentPage:function(t){e(function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}}(t))},setTotalUsersCount:function(t){e({type:"SET_TOTAL_USERS_COUNT",totalUsersCount:t})},toggleIsFetching:function(t){e(function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}}(t))}}}))(Q),$=function(){return s.a.createElement("div",{className:"app-wrapper"},s.a.createElement(u,null),s.a.createElement(p,null),s.a.createElement("div",{className:"app-wrapper-content"},s.a.createElement(y.a,{path:"/profile",render:function(){return s.a.createElement(k,null)}}),s.a.createElement(y.a,{path:"/messages",render:function(){return s.a.createElement(L,null)}}),s.a.createElement(y.a,{path:"/users",render:function(){return s.a.createElement(V,null)}})))},ee=a(15),te={},ae=Object(ee.b)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":var a={id:5,likeCount:0,message:e.newPostText};return Object(_.a)(Object(_.a)({},e),{},{posts:[].concat(Object(v.a)(e.posts),[a]),newPostText:""});case"UPDATE_NEW_POST_TEXT":return Object(_.a)(Object(_.a)({},e),{},{newPostText:t.newText});default:return e}},dialogsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_NEW_MESSAGE_BODY_TEXT":return Object(_.a)(Object(_.a)({},e),{},{newMessageBody:t.newMessage});case"SEND_MESSAGE":var a=e.newMessageBody;return Object(_.a)(Object(_.a)({},e),{},{messages:[].concat(Object(v.a)(e.messages),[{id:6,message:a}]),newMessageBody:""});default:return e}},sidebarPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;return e},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(_.a)(Object(_.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(_.a)(Object(_.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(_.a)(Object(_.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(_.a)(Object(_.a)({},e),{},{followed:!1}):e}))});case"SET_USERS":return Object(_.a)(Object(_.a)({},e),{},{users:t.users});case"SET_CURRENT_PAGE":return Object(_.a)(Object(_.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(_.a)(Object(_.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"TOGGLE_IS_FETCHING":return Object(_.a)(Object(_.a)({},e),{},{isFetching:t.isFetching});default:return e}}}),ne=Object(ee.c)(ae);c.a.render(s.a.createElement(o.a,null,s.a.createElement(T.a,{store:ne},s.a.createElement($,null))),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.40c9c9dc.chunk.js.map